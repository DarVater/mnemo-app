

<MainBtn@Button>:
    font_size: '24sp'
    color: (0, 0, 0, 1)
    background_normal: 'src/btn_main.png'
    background_down: 'src/btn_main_pressed.png'


<MainPassiveBtn@Button>:
    font_size: '24sp'
    color: (0, 0, 0, 1)
    background_down: 'src/btn_main_pressed.png'
    size_hint: None, None
    width: '330sp'
    height: '75sp'
    pos_hint:{'center_x': 0.5, 'center_y': 0.5}

<BackBtn@FloatLayout>:
    size_hint_x: 0.12
    size_hint_y: 0.06
    btn: btn
    Button
        pos_hint: {'x':7, 'y':15.3}
        font_size: '24sp'
        color: (0, 0, 0, 1)
        canvas.before:
            Color:
                rgba: (1, 1, 1, 0)
            RoundedRectangle:
                size: self.size
                pos: self.pos
                radius: [58]

        background_normal: 'src/btn_back.png'
        background_down: 'src/transparent.png'
        id: btn
        on_release:
            app.root.ids['temp_view'].press_on('back')

<MainLabel@Label>:
    font_size: '32sp'
    color: (0, 0,0, 1)

<SubLabel>:
    font_size: '24sp'
    color: (0.1, 0.1, 0.1, 1)

<MainInput@TextInput>:
    font_size: '30sp'
    opacity : 100
    multiline: False
    background_normal: 'src/input.png'
    height: '76sp'

<ViewSingUp>:
    btn: btn
    help_text: help_text
    header: header
    input: input
    view_interface: view_interface
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'src/background_main.png'
    BoxLayout:
        spacing: 15
        id: view_interface
        pos_hint: {'center_x': .5, 'center_y': .5}
        size_hint: 0.7, 0.5
        orientation: 'vertical'
        padding: 20
        MainLabel:
            id: header
        MainInput:
            size_hint: self.size_hint[0], 0.85
            id: input
        SubLabel:
            size_hint: 1, 0.7
            id: help_text
        Label:
            size_hint: 1, 1.5
        MainBtn:
            size_hint: self.size_hint[0], 0.85
            id: btn
            on_press:
                root.next()

<ViewManager>:
    id: view_manager



<ImgLabel@Label>:
    height: '300sp'
    width: '400sp'
    pos_hint: {'center_x': .5, 'center_y': .5}
    size_hint_y: None
    size_hint_x: None

<LongSubLabel>:
    size_hint_y: None
    font_size: '24sp'
    text_size: self.width- 50, None

<ViewHowItWorks>:
    id: how_it_works
    header: header
    bloc1: bloc1
    bloc2: bloc2
    bloc3: bloc3
    bloc4: bloc4
    bloc5: bloc5
    view_interface: view_interface
    back: back
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'src/background_main.png'
    ScrollView:
        orientation: 'vertical'
        padding: 10
        BoxLayout:
            id: view_interface
            orientation: 'vertical'
            size_hint: 1, None
            MainLabel:
                size_hint_y: None
                id: header
                height: '200sp'
                text_size: self.width- 50, None

            LongSubLabel:
                height: '250sp'
                id: bloc1

            LongSubLabel:
                id: bloc2
                height: '300sp'

            LongSubLabel:
                height: '250sp'
                id: bloc3

            ImgLabel:
                canvas.before:
                    Rectangle:
                        size: self.size
                        pos: self.pos
                        source: 'src/plot_forget.png'

            LongSubLabel:
                height: '650sp'
                id: bloc4

            ImgLabel:
                canvas.before:
                    Rectangle:
                        size: self.size
                        pos: self.pos
                        source: 'src/plot_remember.png'

            LongSubLabel:
                height: '100sp'
                id: bloc5

            ImgLabel:
                canvas.before:
                    Rectangle:
                        size: self.size
                        pos: self.pos
                        source: 'src/remember_lvl.png'


    BackBtn:
        id: back

<ViewHome>:
    id: view_home
    view_interface: view_interface
    navigation: navigation
    topics: topics
    how_it_works: how_it_works
    choose_language: choose_language
    exit: exit
    synchronize: synchronize
    hair: hair
    repeat: repeat
    know: know
    header: header
    progress_hair: progress_hair
    progress_know: progress_know
    progress_repeat: progress_repeat
    progress_know_text: progress_know_text
    progress_hair_text: progress_hair_text
    progress_repeat_text: progress_repeat_text
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'src/background_main.png'
    BoxLayout:
        id: view_interface
        orientation: 'vertical'
        padding: 10
        BoxLayout:
            size_hint_y: 0.15
            canvas.before:
                Rectangle:
                    pos: self.pos
                    size: self.size
                    source: 'src/main_goal.png'
            MainLabel:
                id: header
        BoxLayout:
            id: progress
            spacing: 10
            BoxLayout:
                orientation: 'vertical'
                BoxLayout:
                    orientation: 'vertical'
                    BoxLayout:
                        size_hint: 1, 1
                    BoxLayout:
                        height: '56sp'
                        canvas.before:
                            Rectangle:
                                pos: self.pos
                                size: self.size
                                source: 'src/hair_top.png'
                        size_hint: 1, None
                        SubLabel:
                            id:  progress_hair_text
                            text: '100'
                    BoxLayout:
                        size_hint_x: 0.5
                        pos_hint: {'center_x': .5, 'center_y': .5}
                        canvas.before:
                            Rectangle:
                                pos: self.pos
                                size: self.size
                                source: 'src/hair_mid.png'
                        size_hint_y:  10 ####################
                        id:  progress_hair
                BoxLayout:
                    size_hint_y: 0.17
                    canvas.before:
                        Rectangle:
                            pos: self.pos
                            size: self.size
                            source: 'src/hair_root.png'
                    SubLabel:
                        id:hair
            BoxLayout:
                orientation: 'vertical'
                BoxLayout:
                    orientation: 'vertical'
                    BoxLayout:
                        size_hint: 1, 1
                    BoxLayout:
                        height: '56sp'
                        canvas.before:
                            Rectangle:
                                pos: self.pos
                                size: self.size
                                source: 'src/repeat_top.png'
                        size_hint: 1, None
                        SubLabel:
                            id:  progress_repeat_text
                            text: '50'
                    BoxLayout:
                        size_hint_x: 0.5
                        pos_hint: {'center_x': .5, 'center_y': .5}
                        canvas.before:
                            Rectangle:
                                pos: self.pos
                                size: self.size
                                source: 'src/repeat_mid.png'
                        size_hint_y:  1 ######################
                        id:  progress_repeat
                BoxLayout:
                    size_hint_y: 0.17
                    canvas.before:
                        Rectangle:
                            pos: self.pos
                            size: self.size
                            source: 'src/repeat_root.png'
                    SubLabel:
                        id: repeat
            BoxLayout:
                orientation: 'vertical'
                BoxLayout:
                    orientation: 'vertical'
                    BoxLayout:
                        size_hint: 1, 1
                    BoxLayout:
                        height: '56sp'
                        canvas.before:
                            Rectangle:
                                pos: self.pos
                                size: self.size
                                source: 'src/know_top.png'
                        size_hint: 1, None
                        SubLabel:
                            id:  progress_know_text
                            text: '0'
                    BoxLayout:
                        size_hint_x: 0.5
                        pos_hint: {'center_x': .5, 'center_y': .5}
                        canvas.before:
                            Rectangle:
                                pos: self.pos
                                size: self.size
                                source: 'src/know_mid.png'
                        size_hint_y:  0.001 #################
                        id:  progress_know
                BoxLayout:
                    size_hint_y: 0.17
                    canvas.before:
                        Rectangle:
                            pos: self.pos
                            size: self.size
                            source: 'src/know_root.png'
                    SubLabel:
                        id: know
        BoxLayout:
            size_hint:  0.75, 1.1
            id: navigation
            spacing: 30
            padding: 50, 40
            pos_hint: {'center_x': .5, 'center_y': .5}
            orientation: 'vertical'
            MainBtn:
                id: topics
                on_release:
                    root.press_on('all_topics')
            MainBtn:
                id: how_it_works
                on_release:
                    root.press_on('how_it_works')
            MainBtn:
                id: choose_language
                on_release:
                    root.press_on('choose_language')
            MainBtn:
                id: synchronize
                on_release:
                    root.press_on('synchronize')
            MainBtn:
                id: exit
                on_release:
                    root.press_on('Exit')


<ViewLanguage>:
    id: language
    back: back
    header: header
    ua: ua
    ru: ru
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'src/background_topic.png'
    BoxLayout
        orientation: 'vertical'
        MainLabel:
            size_hint_y: 0.2
            padding: 50, 40
            size_hint_y: None
            id: header
            height: '200sp'
            text_size: self.width- 50, None
            pos_hint: {'center_x': .5, 'center_y': .5}
        BoxLayout:
            spacing: '25sp'
            orientation: 'vertical'
            MainPassiveBtn:
                id: ru
                background_normal: 'src/btn_main_other.png'
                on_press:
                    root.press_on('ru')
            MainPassiveBtn:
                id: ua
                background_normal: 'src/btn_main_other.png'
                on_press:
                    root.press_on('ua')
        Label:
            size_hint_y: 1
    BackBtn:
        id: back



<TopicLayout>:
    btn: btn
    top_info_layout: top_info_layout
    size_hint: 0.3, 0.15
    orientation: 'vertical'
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'src/topic.png'
    TopicInfoLayout:
        id: top_info_layout
    Button:
        id: btn
        background_normal: 'src/topic.png'
        background_down: 'src/topic_pressed.png'
        size_hint_y: 0.4
        color: (0, 0, 0, 1)
        text: 'Город'




<TopicInfoLayout>:
    progress_know: progress_know
    progress_repeat: progress_repeat
    progress_hair: progress_hair
    top_background: top_background
    BoxLayout:
        BoxLayout:
            source: 'src/topic_town.png'
            id: top_background
            canvas.before:
                Rectangle:
                    pos: self.pos[0] + self.width*0.05, self.pos[1] + self.height*0.05
                    size: self.width*0.9, self.height*0.9
                    source: root.temp_image_source

        BoxLayout:
            size_hint: 0.6, 1
            spacing: '10sp'
            padding: '10sp'
            BoxLayout:
                orientation: 'vertical'
                BoxLayout:
                    size_hint: 1, 0.5
                BoxLayout:
                    canvas.before:
                        Color:
                            rgba: (40/255, 0/255, 97/255, 1)
                        RoundedRectangle:
                            size: self.size
                            pos: self.pos
                            radius: [10]
                    size_hint: 1, 0.1
                    id: progress_hair
            BoxLayout:
                orientation: 'vertical'
                BoxLayout:
                    size_hint: 1, 0.5
                BoxLayout:
                    canvas.before:
                        Color:
                            rgba: (94/255, 0/255, 224/255, 1)
                        RoundedRectangle:
                            size: self.size
                            pos: self.pos
                            radius: [10]
                    size_hint: 1, 0.5
                    id: progress_repeat
            BoxLayout:
                orientation: 'vertical'
                BoxLayout:
                    size_hint: 1, 0.5
                BoxLayout:
                    canvas.before:
                        Color:
                            rgba: (140/255, 76/255, 230/255, 1)
                        RoundedRectangle:
                            size: self.size
                            pos: self.pos
                            radius: [10]
                    size_hint: 1, 2
                    id:  progress_know


<ViewChooseTopics>:
    id: choose_topic
    header: header
    alert: alert
    view_interface: view_interface
    back: back
    topics_grid: topics_grid
    alert_text: alert_text
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'src/background_topic.png'
    ScrollView:
        orientation: 'vertical'
        padding: 10
        BoxLayout:
            id: view_interface
            padding: '15sp'
            spacing: '15sp'
            orientation: 'vertical'
            size_hint: 1, None
            height: '3500sp'
            MainLabel:
                size_hint_y: None
                id: header
                font_size: '42sp'
                height: '100sp'
                text_size: self.width- 50, None

            BoxLayout:
                id: alert
                size_hint_y: None
                opacity: 0
                height: '50sp'
                pos_hint: {'center_x': .5, 'center_y': .5}
                size_hint: 0.9, None
                Label:
                    canvas.before:
                        Rectangle:
                            pos: self.pos
                            size: self.size
                            source: 'src/info.png'
                    size_hint_x: None
                    width: '50sp'
                SubLabel:
                    id: alert_text
                    text_size: self.width- 50, None

            GridLayout:
                spacing: '20sp'
                cols: 2
                id: topics_grid
    BackBtn:
        id: back

<ViewLoadScreen>:
    my_pb: my_pb
    BoxLayout:
        Button:
            size_hint_y: None
            height: 0
            id: my_pb
            background_normal: 'src/topic_load_screen.png'
            background_down: 'src/topic_load_screen.png'

<VersionBtn@Button>:
    background_normal: 'src/btn_sup_big.png'
    background_down: 'src/btn_sup_big_pressed.png'
    font_size: '24sp'
    color: (0, 0, 0, 1)


<ViewTopic>:
    id: view_topic
    back: back
    header: header
    answers: answers
    objects: objects
    splited: splited
    learning: learning
    versions: versions
    pos_hint: {'center_x': .5, 'center_y': .5}
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'src/background_topic.png'
    orientation: 'vertical'
    padding: '15sp'
    BoxLayout
        pos_hint: {'center_x': .5, 'center_y': .5}
        orientation: 'vertical'
        MainLabel:
            size_hint_y: 0.1
            padding: 50, 40
            size_hint_y: None
            id: header
            height: '100sp'
            text_size: self.width- 50, None
            pos_hint: {'center_x': .5, 'center_y': .5}

        SubLabel:
            size_hint_y: 0.1
            padding: 50, 40
            size_hint_y: None
            id: objects
            height: '50sp'
            text_size: self.width- 50, None
            pos_hint: {'center_x': .5, 'center_y': .5}

        SubLabel:
            size_hint_y: 0.1
            padding: 50, 40
            size_hint_y: None
            id: splited
            height: '50sp'
            text_size: self.width- 50, None
            pos_hint: {'center_x': .5, 'center_y': .5}

        GridLayout:
            size_hint_y: 1
            spacing: '10sp'
            padding: '0sp', '20sp'
            cols: 2
            id: versions

            VersionBtn
            VersionBtn
            VersionBtn
            VersionBtn
            VersionBtn

            VersionBtn
            VersionBtn
            VersionBtn
            VersionBtn
            VersionBtn

            VersionBtn
            VersionBtn
            VersionBtn
            VersionBtn
            VersionBtn

            VersionBtn
            VersionBtn
            VersionBtn
            VersionBtn
            VersionBtn

        BoxLayout:
            pos_hint: {'center_x': .5, 'center_y': .5}
            size_hint_y: 0.2
            spacing: '10sp'
            padding: '0sp', '20sp'
            MainPassiveBtn:
                id: answers
                size_hint: 1, 1
                background_normal: 'src/btn_main_other.png'
                on_release:
                    root.show_answers()
            MainPassiveBtn:
                id: learning
                size_hint: 1, 1
                background_normal: 'src/btn_main_other.png'
    BackBtn:
        id: back

<SplitBtn>:
    size_hint_y: None
    height: '54sp'

<ViewSplitWord>:
    id: split_word
    back: back
    header: header
    btn_place: btn_place
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'src/background_topic.png'
    BoxLayout
        orientation: 'vertical'
        MainLabel:
            size_hint_y: 0.2
            padding: 50, 40
            size_hint_y: None
            id: header
            height: '200sp'
            text_size: self.width- 50, None
            pos_hint: {'center_x': .5, 'center_y': .5}

        ScrollView:
            orientation: 'vertical'
            padding: 10
            GridLayout:
                id: btn_place
                size_hint: 1, None
                height: 2000
                cols: 1
                spacing: '25sp'
                padding: '50sp'
        Label:
            size_hint_y: 0.1
    BackBtn:
        id: back

<VersionWordBtn@Button>:
    background_normal: 'src/transparent.png' #lighted
    background_down: 'src/transparent.png'
    font_size: '24sp'
    color: (0, 0, 0, 1)

<SelectionPart>:
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'src/tab.png'
    orientation: 'vertical'
    spacing: '10sp'
    padding: '10sp'
    BoxLayout:
        MainInput:
            font_size: '24sp'
        Button:
            text: 'Ok'
            size_hint_x: 0.2
            on_release:
                root.write_word(self)
    VersionWordBtn
    VersionWordBtn
    VersionWordBtn
    VersionWordBtn
    VersionWordBtn
    VersionWordBtn
    VersionWordBtn
    VersionWordBtn
    VersionWordBtn
    VersionWordBtn

<WordPart>:
    background_normal: 'src/transparent.png' #lighted
    background_down: 'src/transparent.png'
    font_size: '24sp'
    color: (0, 0, 0, 1)

<ViewSelection>:
    id: split_word
    back: back
    header: header
    word_place: word_place
    part_place: part_place
    next_btn: next_btn
    space_block: space_block
    scroll_space: scroll_space
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'src/background_topic.png'
    cols: 1
    BoxLayout
        orientation: 'vertical'
        BoxLayout:
            padding: 20, 10
            size_hint: None, None
            size: root.width, root.height/7
            orientation: 'horizontal'
            MainLabel:
                padding: 50, 40
                size_hint_y: 1
                id: header
                height: '200sp'
                text_size: self.width- 50, None
                pos_hint: {'center_x': .5, 'center_y': .5}
            BoxLayout:
                padding: '10sp'
                spacing: '10sp'
                size_hint_y: 1
                size_hint_x: 0.4
                orientation: 'vertical'
                BoxLayout:
                    Button:
                        background_normal: 'src/transparent.png'
                        background_down: 'src/transparent.png'
                    Button:
                        background_normal: 'src/btn_back.png'
                        background_down: 'src/transparent.png'
                        height: self.width
                        size_hint_y: None
                        on_release:
                            root.press_on_back()
                        id: back
        BoxLayout:
            spacing: '15sp'
            padding: '10sp'
            id: part_place
            size_hint_y: 0.1
        BoxLayout:
            id: scroll_space
            orientation: 'vertical'
            ScrollView:
                orientation: 'horizontal'
                padding: 10
                GridLayout:
                    id: word_place
                    size_hint: None, 1
                    rows: 1
                    width: 900
                    spacing: '25sp'
                    padding: '50sp'
        BoxLayout:
            pos_hint: {'center_x': .5, 'center_y': .5}
            size_hint: 0.7, 0.1
            padding: 40, 0
            MainPassiveBtn:
                background_normal: 'src/btn_main_other.png'
                background_down: 'src/btn_main_other.png'
                pos_hint: {'center_x': .5, 'center_y': .5}
                size_hint_y: 0.7
                on_release:
                    root.press_on_next(self.text)
                id: next_btn
        BoxLayout:
            id: space_block
            size_hint: 0.7, 0.05
            padding: 40, 40

<ViewExcept>:
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'src/background_topic.png'
    orientation: 'vertical'
    except_text: except_text
    LongSubLabel:
        canvas.before:
            Rectangle:
                pos: self.pos
                size: self.size
                source: 'src/tab.png'
        size_hint_y: 1
        id: except_text
